# FilenameParser åˆ›å»ºæ€»ç»“

## ğŸ“‹ å·¥ä½œå®Œæˆæƒ…å†µ

### âœ… å·²å®Œæˆçš„å·¥ä½œ

1. **åˆ›å»º FilenameParser.cs** 
   - ä½ç½®: `src/ImageInfo/Services/FilenameParser.cs`
   - åŠŸèƒ½: ä¸“é—¨å¤„ç†æ–‡ä»¶åè§£æ
   - ä»£ç è¡Œæ•°: ~230 è¡Œ

2. **æ ¸å¿ƒåŠŸèƒ½å®ç°**
   - `ParseFilename()` - ä¸»è§£ææ–¹æ³•
   - `ParseFilenamePath()` - è·¯å¾„è§£ææ–¹æ³•
   - `GetOriginalName()` - å¿«é€Ÿæå–åŸå
   - `GetExtension()` - å¿«é€Ÿæå–æ‰©å±•å
   - `GetSuffix()` - å¿«é€Ÿæå–åç¼€
   - è‡ªåŠ¨é‡å»ºæ–‡ä»¶ååŠŸèƒ½

3. **å•å…ƒæµ‹è¯•**
   - ä½ç½®: `tests/ImageInfo.Tests/FilenameParserTests.cs`
   - æµ‹è¯•ç”¨ä¾‹: **16 ä¸ª** âœ… å…¨éƒ¨é€šè¿‡
   - è¦†ç›–èŒƒå›´:
     - å®Œæ•´æ ¼å¼è§£æ (åŸå + å¤šä¸ªæ ‡ç­¾ + è¯„åˆ†)
     - å•ä¸€åç¼€è§£æ
     - é”™è¯¯æƒ…å†µå¤„ç†
     - ç‰¹æ®Šå­—ç¬¦å’Œä¸­æ–‡å­—ç¬¦æ”¯æŒ
     - æ–‡ä»¶è·¯å¾„è§£æ
     - æ–‡ä»¶åé‡å»º

4. **æ–‡æ¡£å’Œç¤ºä¾‹**
   - `FilenameParser_README.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—
   - `Examples/FilenameParserExamples.cs` - 5 ä¸ªä½¿ç”¨ç¤ºä¾‹
   - åŒ…å«æœ€ä½³å®è·µå’Œå¸¸è§é—®é¢˜è§£ç­”

## ğŸ¯ è®¾è®¡ç‰¹ç‚¹

### ä¸‰æ®µå¼æ ¼å¼
æ–‡ä»¶åè¢«è§£æä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š
```
åŸå + åç¼€ + æ ¼å¼
ä¾‹å¦‚: 00000-2365214977___blue_archive___whip@@@è¯„åˆ†88.jpg
      â”œâ”€ åŸå: 00000-2365214977
      â”œâ”€ åç¼€: ___blue_archive___whip@@@è¯„åˆ†88
      â””â”€ æ ¼å¼: .jpg
```

### è®¾è®¡ä¼˜åŠ¿
- âœ… **ç®€æ´é«˜æ•ˆ**: ä½¿ç”¨ç®€å•çš„å­—ç¬¦ä¸²æœç´¢ï¼Œæ— å¤æ‚æ­£åˆ™è¡¨è¾¾å¼
- âœ… **å®¹é”™èƒ½åŠ›å¼º**: æ”¯æŒå¤šç§æ–‡ä»¶åæ ¼å¼
- âœ… **ä¿ç•™å®Œæ•´ä¿¡æ¯**: å¯ä»¥å®Œæ•´é‡å»ºåŸå§‹æ–‡ä»¶å
- âœ… **æ˜“äºæ‰©å±•**: æ”¯æŒè‡ªå®šä¹‰åç¼€è¯†åˆ«

## ğŸ“Š æµ‹è¯•è¦†ç›–

| æµ‹è¯•åœºæ™¯ | çŠ¶æ€ |
|---------|------|
| å®Œæ•´æ ¼å¼è§£æ | âœ… |
| ä»…åŸå+æ‰©å±•å | âœ… |
| ä»…æœ‰æ ‡ç­¾åç¼€ | âœ… |
| ä»…æœ‰è¯„åˆ†åç¼€ | âœ… |
| ç‰¹æ®Šå­—ç¬¦æ”¯æŒ | âœ… |
| ä¸­æ–‡å­—ç¬¦æ”¯æŒ | âœ… |
| é”™è¯¯æƒ…å†µå¤„ç† | âœ… |
| æ–‡ä»¶è·¯å¾„è§£æ | âœ… |
| æ–‡ä»¶åé‡å»º | âœ… |
| å¿«é€Ÿæå–æ–¹æ³• | âœ… |

**æ€»è®¡: 16/16 æµ‹è¯•é€šè¿‡ âœ…**

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ä½¿ç”¨
```csharp
var filename = "photo_001___tag1___tag2@@@è¯„åˆ†88.jpg";
var result = FilenameParser.ParseFilename(filename);

Console.WriteLine(result.OriginalName);  // photo_001
Console.WriteLine(result.Extension);     // .jpg
Console.WriteLine(result.Suffix);        // ___tag1___tag2@@@è¯„åˆ†88
```

### å¿«é€Ÿæå–
```csharp
var originalName = FilenameParser.GetOriginalName(filename);
var extension = FilenameParser.GetExtension(filename);
var suffix = FilenameParser.GetSuffix(filename);
```

### é”™è¯¯å¤„ç†
```csharp
var result = FilenameParser.ParseFilename(filename);
if (!result.IsSuccess)
{
    Console.WriteLine($"è§£æå¤±è´¥: {result.ErrorMessage}");
}
```

## ğŸ“ æ–°å¢æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | ä½ç½® | è¯´æ˜ |
|-----|------|------|
| FilenameParser.cs | src/ImageInfo/Services/ | ä¸»å®ç°æ–‡ä»¶ |
| FilenameParserTests.cs | tests/ImageInfo.Tests/ | å•å…ƒæµ‹è¯• |
| FilenameParser_README.md | src/ImageInfo/Services/ | è¯¦ç»†æ–‡æ¡£ |
| FilenameParserExamples.cs | src/ImageInfo/Examples/ | ä½¿ç”¨ç¤ºä¾‹ |

## âœ¨ å…³é”®ç‰¹æ€§

1. **æ— ä¾èµ–**: ä»…ä½¿ç”¨ .NET Standard åº“ï¼Œæ— å¤–éƒ¨ä¾èµ–
2. **é«˜æ€§èƒ½**: å­—ç¬¦ä¸²æ“ä½œç®€æ´é«˜æ•ˆ
3. **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ç±»å‹å®šä¹‰å’Œé”™è¯¯å¤„ç†
4. **å¯æµ‹è¯•**: æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å¯ä»¥ç‹¬ç«‹æµ‹è¯•çš„
5. **å¯ç»´æŠ¤**: ä»£ç æ³¨é‡Šè¯¦ç»†ï¼Œæ˜“äºç†è§£å’Œä¿®æ”¹

## ğŸ”§ ç¼–è¯‘å’Œæµ‹è¯•

```bash
# ç¼–è¯‘é¡¹ç›®
dotnet build src/ImageInfo/

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
dotnet test tests/ImageInfo.Tests/

# è¿è¡Œä»… FilenameParser ç›¸å…³æµ‹è¯•
dotnet test tests/ImageInfo.Tests/ --filter FilenameParserTests
```

## ğŸ“ˆ åç»­æ”¹è¿›å»ºè®®

1. **å¯é€‰**: æ·»åŠ  `ParseFilenameWithRules` æ–¹æ³•æ”¯æŒè‡ªå®šä¹‰åˆ†éš”ç¬¦è§„åˆ™
2. **å¯é€‰**: æ·»åŠ å¼‚æ­¥ç‰ˆæœ¬ç”¨äºå¤§é‡æ–‡ä»¶å¤„ç†
3. **å¯é€‰**: é›†æˆåˆ°ç°æœ‰çš„ ImageService ä¸­
4. **å¯é€‰**: æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•

## â±ï¸ å·¥ä½œç»Ÿè®¡

- **åˆ›å»ºæ—¶é—´**: 2025-11-25
- **ç¼–ç è¡Œæ•°**: ~230 è¡Œ (ä¸»å®ç°)
- **æµ‹è¯•è¡Œæ•°**: ~250 è¡Œ (æµ‹è¯•ç”¨ä¾‹)
- **æ–‡æ¡£å­—æ•°**: ~2000 å­—
- **æ€»å¼€å‘æ—¶é—´**: < 1 å°æ—¶
- **ç¼–è¯‘æˆåŠŸ**: âœ…
- **æµ‹è¯•é€šè¿‡ç‡**: 100% (16/16)

---

**çŠ¶æ€**: âœ… **å®Œæˆå¹¶é€šè¿‡éªŒæ”¶**

å¯ä»¥ç«‹å³é›†æˆåˆ°é¡¹ç›®ä¸­ä½¿ç”¨ï¼

# åŠŸèƒ½5 å¿«é€Ÿå¯åŠ¨æŒ‡å—

## âš¡ æœ€å¿«5ç§’ä¸Šæ‰‹

### æ­¥éª¤1ï¼šå¯åŠ¨ç¨‹åº
```powershell
cd c:\ä¸ªäººæ•°æ®\C#Code\imageInfo
dotnet run -- --5
```

### æ­¥éª¤2ï¼šè¾“å…¥Excelæ–‡ä»¶è·¯å¾„
```
è¯·è¾“å…¥Excelæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼š
> C:\Data\report.xlsx
```

### æ­¥éª¤3ï¼šç­‰å¾…å¤„ç†å®Œæˆ
```
[åŠŸèƒ½5] å¼€å§‹å¤„ç†Excelæ–‡ä»¶: report.xlsx
[åŠŸèƒ½5] è¯»å–æˆåŠŸï¼Œå…± 1000 è¡Œæ•°æ®
[åŠŸèƒ½5] è¯†åˆ«çš„åˆ—: è·¯å¾„åˆ—='æ–‡ä»¶è·¯å¾„', è¯æ±‡åˆ—='æ ¸å¿ƒè¯æ±‡'
[åŠŸèƒ½5] å¼€å§‹è®¡ç®—æ–‡ä»¶å¤¹é»˜è®¤åŒ¹é…åˆ† (éš¾åº¦0)...
[åŠŸèƒ½5] æ–‡ä»¶å¤¹åŒ¹é…åˆ†è®¡ç®—å®Œæˆï¼Œæ‰¾åˆ° 150 ä¸ªè®­ç»ƒæ ·æœ¬
[åŠŸèƒ½5] å¼€å§‹è®¡ç®—ä¸ªæ€§åŒ–æ¨èé¢„ä¼°è¯„åˆ† (éš¾åº¦3)...
[åŠŸèƒ½5-A] æ­¥éª¤Aï¼šæ„å»ºè¯æ±‡è¡¨å’ŒIDFå€¼...
[åŠŸèƒ½5-A] è¯æ±‡è¡¨å¤§å°: 425
[åŠŸèƒ½5-B] æ­¥éª¤Bï¼šæ„å»ºTF-IDFçŸ©é˜µ...
[åŠŸèƒ½5-C] æ­¥éª¤Cï¼šè®­ç»ƒRidgeå›å½’æ¨¡å‹ (è®­ç»ƒé›†å¤§å°: 150)...
[åŠŸèƒ½5-C] å­¦åˆ°çš„Top 10é«˜æƒé‡è¯æ±‡:
  é«˜åˆ†è¯æ±‡1: 0.8520 â†‘ (æ­£å‘)
  é«˜åˆ†è¯æ±‡2: 0.7234 â†‘ (æ­£å‘)
  ...
[åŠŸèƒ½5-D] æ­¥éª¤Dï¼šé¢„æµ‹æ‰€æœ‰å›¾ç‰‡çš„ä¸ªæ€§åŒ–è¯„åˆ†...
[åŠŸèƒ½5] ä¸ªæ€§åŒ–æ¨èé¢„ä¼°è¯„åˆ†è®¡ç®—å®Œæˆ

âœ… è¯„åˆ†å¤„ç†å®Œæˆï¼
ğŸ“ ç»“æœå·²ä¿å­˜åˆ°ï¼šreport.xlsx
```

## ğŸ“Š è¾“å‡ºç»“æœ

Excelæ–‡ä»¶ä¼šæ–°å¢ä¸¤åˆ—ï¼š

| æ–‡ä»¶è·¯å¾„ | æ ¸å¿ƒè¯æ±‡ | **æ–‡ä»¶å¤¹é»˜è®¤åŒ¹é…åˆ†** | **ä¸ªæ€§åŒ–æ¨èé¢„ä¼°è¯„åˆ†** |
|---------|---------|--------|--------|
| C:\ç²¾é€‰\img1.jpg | å°‘å¥³ ç²¾è‡´ | 80 | 82 |
| C:\è¶…ç»\img2.jpg | å°‘å¥³ å…‰çº¿å¥½ | 95 | 93 |
| C:\unknown\img3.jpg | å°‘å¥³ å…‰çº¿ä¸€èˆ¬ | 50 | 68 |

## ğŸ¯ ä¸¤åˆ—æ•°æ®çš„åŒºåˆ«

| åˆ— | è®¡ç®—æ–¹å¼ | ç‰¹ç‚¹ |
|---|---------|------|
| **æ–‡ä»¶å¤¹é»˜è®¤åŒ¹é…åˆ†** | å…³é”®è¯åŒ¹é… | å¿«é€Ÿã€å¯é¢„æµ‹ã€æœ‰å±€é™ |
| **ä¸ªæ€§åŒ–æ¨èé¢„ä¼°è¯„åˆ†** | MLç®—æ³• | å­¦ä¹ èƒ½åŠ›ã€æ³›åŒ–èƒ½åŠ›å¼º |

## ğŸ’¬ å¸¸è§é—®é¢˜

**Q: ä¸¤åˆ—è¯„åˆ†æ€ä¹ˆç”¨ï¼Ÿ**
A: 
- `æ–‡ä»¶å¤¹é»˜è®¤åŒ¹é…åˆ†` â†’ ç”¨äºå¿«é€Ÿè¿‡æ»¤æˆ–ä½œä¸ºåŸºçº¿
- `ä¸ªæ€§åŒ–æ¨èé¢„ä¼°è¯„åˆ†` â†’ ç”¨äºç²¾ç»†åŒ–æ’åºï¼Œä½“ç°ç”¨æˆ·çœŸå®åå¥½

**Q: ä¸ºä»€ä¹ˆæœ‰äº›å›¾ç‰‡çš„ä¸¤ä¸ªåˆ†æ•°å·®å¼‚å¾ˆå¤§ï¼Ÿ**
A: è¿™è¯´æ˜ï¼š
- å›¾ç‰‡çš„Låˆ—è¯æ±‡ç‰¹å¾ä¸å…¶è·¯å¾„ä¸å¤ªåŒ¹é…
- æˆ–è€…æ¨¡å‹å­¦åˆ°äº†ä¸€äº›é¢å¤–çš„æ¨¡å¼

**Q: å¯ä»¥ä¿¡ä»»ä¸ªæ€§åŒ–è¯„åˆ†å—ï¼Ÿ**
A: 
- âœ… å¦‚æœä½ æœ‰>20ä¸ªæ ‡æ³¨æ ·æœ¬ï¼Œå¯ä¿¡åº¦è¾ƒé«˜
- âŒ å¦‚æœæ ‡æ³¨æ ·æœ¬<5ä¸ªï¼Œå¯èƒ½å­˜åœ¨å™ªå£°
- ğŸ’¡ å»ºè®®ï¼šäº¤å‰éªŒè¯å‰å‡ ä¸ªé¢„æµ‹ç»“æœ

**Q: æ€ä¹ˆæ”¹è¿›è¯„åˆ†å‡†ç¡®åº¦ï¼Ÿ**
A:
1. å¢åŠ RATING_MAPä¸­æ ‡æ³¨çš„æ ·æœ¬
2. ç¡®ä¿Låˆ—çš„è¯æ±‡è´¨é‡
3. æ ¹æ®å®é™…ç»“æœè°ƒæ•´RidgeAlphaå‚æ•°

---

## ğŸ”§ é…ç½®ä¿®æ”¹

### ä¿®æ”¹RATING_MAPè§„åˆ™

ç¼–è¾‘ `src/ImageInfo/Models/ImageScorerConfig.cs`ï¼š

```csharp
public Dictionary<string, int> RatingMap { get; set; } = new Dictionary<string, int>(StringComparer.OrdinalIgnoreCase)
{
    { "æˆ‘çš„åˆ†ç±»A", 90 },      // æ·»åŠ æ–°è§„åˆ™
    { "æˆ‘çš„åˆ†ç±»B", 70 },
    { "ç²¾é€‰", 80 }             // ä¿®æ”¹ç°æœ‰è§„åˆ™
};
```

ä¿®æ”¹åé‡æ–°ç¼–è¯‘ï¼š
```powershell
dotnet build
dotnet run -- --5
```

### ä¿®æ”¹åˆ†è¯è§„åˆ™

ç¼–è¾‘ `src/ImageInfo/Models/ImageScorerConfig.cs`ï¼š

```csharp
public int MinTokenLength { get; set; } = 2;    // æœ€å°è¯é•¿ä»1æ”¹ä¸º2
public int MaxTokenLength { get; set; } = 50;   // æœ€å¤§è¯é•¿ä»100æ”¹ä¸º50
public bool EnableStopWordFilter { get; set; } = true; // å¯ç”¨StopWordsè¿‡æ»¤
```

### è°ƒæ•´Ridgeæ­£åˆ™åŒ–å‚æ•°

```csharp
public double RidgeAlpha { get; set; } = 0.5;   // ä»1.0æ”¹ä¸º0.5ï¼ˆæ›´çµæ´»çš„æ¨¡å‹ï¼‰
```

---

## ğŸ“ˆ æ€§èƒ½å‚è€ƒ

| æ•°æ®è§„æ¨¡ | å¤„ç†æ—¶é—´ | å†…å­˜å ç”¨ |
|---------|---------|---------|
| 100å¼ å›¾ç‰‡ | <1ç§’ | <10MB |
| 1000å¼ å›¾ç‰‡ | 1-2ç§’ | 10-20MB |
| 10000å¼ å›¾ç‰‡ | 5-10ç§’ | 50-100MB |

---

## ğŸ†˜ æ•…éšœæ’æŸ¥

### é”™è¯¯ï¼šæœªèƒ½æ‰¾åˆ°åˆ—"L"
```
â†’ ç¡®ä¿Excelæ˜¯åŠŸèƒ½4çš„è¾“å‡º
â†’ åŠŸèƒ½4ä¼šç”ŸæˆLåˆ—ï¼ˆæ ¸å¿ƒè¯æ±‡ï¼‰
```

### é”™è¯¯ï¼šæœªæ‰¾åˆ°è®­ç»ƒæ ·æœ¬
```
â†’ æ–‡ä»¶è·¯å¾„ä¸­æ²¡æœ‰åŒ…å«RATING_MAPä¸­çš„å…³é”®è¯
â†’ æ£€æŸ¥RATING_MAPé…ç½®
â†’ æˆ–ä½¿ç”¨è‡ªå®šä¹‰æ ‡è®°: æ–‡ä»¶@@@è¯„åˆ†80.jpg
```

### é¢„æµ‹åˆ†æ•°éƒ½å·®ä¸å¤š
```
â†’ è®­ç»ƒæ ·æœ¬å¤ªå°‘ï¼Œå»ºè®®>20ä¸ª
â†’ Låˆ—çš„è¯æ±‡å·®å¼‚ä¸å¤§
â†’ å°è¯•é™ä½RidgeAlphaï¼ˆå¦‚æ”¹ä¸º0.5ï¼‰
```

---

## ğŸ“š æ›´å¤šä¿¡æ¯

è¯¦ç»†æŠ€æœ¯æ–‡æ¡£ï¼š`åŠŸèƒ½5-ä¸ªæ€§åŒ–æ¨èè¯„åˆ†ç³»ç»Ÿ.md`

ä¸Pythonç‰ˆæœ¬çš„åŠŸèƒ½å¯¹æ¯”ï¼š
- Python: `PythonSourceCode2/image_scorer_supervised.py`
- C#: `src/ImageInfo/Services/ImageScorerService.cs`
